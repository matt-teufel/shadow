(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"levels":[{"marker":{"address":"Street 1","pos":{"lat":35.143242,"lng":-120.639705}},"messages":["a-1","a-2"],"modalTitle":"Welcome to the first street on the pin","modalDescription":"I have hidden two QR codes somewhere. Search high, low, and everywhere in between to unlock your next location!"},{"marker":{"address":"Tunnel 1","pos":{"lat":35.143497,"lng":-120.640502}},"messages":["tunnel-1"],"modalTitle":"Welcome to Tunnel","modalDescription":"I have hidden another QR code somewhere. Try to find it!"},{"marker":{"address":"Tunnel 2","pos":{"lat":35.143163,"lng":-120.641021}},"messages":["tunnel-2"],"modalTitle":"Welcome to Tunnel 2","modalDescription":"I have hidden another QR code somewhere. Try to find it!"}]}')},55:function(e){e.exports=JSON.parse('{"v":"5.5.9","fr":30,"ip":0,"op":60,"w":200,"h":200,"nm":"TickMark","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":47,"s":[100]},{"t":59,"s":[1]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100,100,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[83.973,83.973],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.188799869313,0.606210386987,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-2.236,-1.119],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[187.84,187.84],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 2","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":22,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"tick","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.375,99.75,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-33.5,-3],[-12.5,17.5],[28,-23]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.188799869313,0.606210386987,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":13,"ix":5},"lc":2,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":29,"s":[0]},{"t":50,"s":[0]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.292],"y":[1.005]},"o":{"x":[0.196],"y":[0]},"t":29,"s":[0]},{"t":50,"s":[100]}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":29,"s":[0]},{"t":50,"s":[0]}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":21,"op":89,"st":29,"bm":0}],"markers":[]}')},63:function(e,t,n){e.exports={"map-container":"Map_map-container__2ZC0h","map-div":"Map_map-div__2IdK6","info-box":"Map_info-box__28Iw8",overlay:"Map_overlay__pXAeS",modal:"Map_modal__2EFkX","close-btn":"Map_close-btn__3PU26"}},72:function(e,t,n){},73:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(15),o=n.n(i),l=n(22),r=(n(63),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAA+VBMVEVHcEz50WVJZ65JZ65HZq6cmI9JZ696hJ1JaLBJZ65JZ6750mb71mT712NJZ65JZ65JZ6750mb50mb50mb602ZJZ65JZ65JZ65KaLBJZ65JZ65IZ6750mb50mb50mb50mZNbbRJZ6750mb50mb50mb50mbawHL50ma6q4D50mZVeb350mb50mabmYz50mb702V3g5tJZ6750mZRdLpJZq5KaK9Ver5ObrT61WfSPTNYfcFVeb3WSjbytVzvp1bkhEvea0NXb6j3y2Ppl1FcY59VZqajTF5FaLLHQD3gdEZ6WIKuSFOTUWzJe1v0vl+rcmxNZqsA0DpHcEwM4ksFAAAAU3RSTlMA/kPjKwIhBly57AkQFueo025J9NiBcPny2hQZMrCk0IoeIJ3oW/fI+r75uIpRl9B6////////////////////////////////////////////AOLyVYEAAAFTSURBVDjLzdRZc4IwEABgQSkooFwe9a5H1d67iEKLR72PXv//1zTgTPuCiTPtg/uQycM3m91kJ7HYGYWQkKSrU1wuDaDxbMingIRWYsJs4CDP/x/kC+HR7HbEbB4gLTFdop4kKdPJXJFxhxo4YZFOhirFDPxEjgZLl+CEGcmaESjwIu4MhgG0bUiKdPgcwL49OBW+nC0sar+Qej2CFCfQIfCGMbviRd0Be9gvSMzJlQAGdj+ViJ0tFNSnA7xXaExtV62uE8DX68cHQz6Wzehw6HbhAF00K+Vo2DYRufFnCJfvI0S0IqVaQ3Tn/v5rvViuFxt/5CI2o56x0SI5Jt7mbbdf7VaeNybwNmowxCqBH1PfC8OfzEghemSNjQqHOBtPttPpdj4ie/PuSN+K3jHRdZHjgrVVMY5PpGLo1V7Nsmq9pl6W6U8jyIqqKvJJf/PfvvZvlPFDcH9CqxsAAAAASUVORK5CYII="),c=n(47),d=n(18);const m=Object(c.create)(((e,t)=>({mapPos:{lat:35.30489293472487,lng:-120.66246462042335},setMapPosition:t=>{e({mapPos:t}),console.log("updating map pos")},currentLevelIndex:0,currentLevelMessages:d.levels[0].messages,remainingMessageCount:d.levels[0].messages.length,updateGameState:()=>{if(t().currentLevelMessages.length!==t().scannedMessages.length)return;console.log("incrementing game level");const n=t().currentLevelIndex+1;n===d.levels.length?e({gameOver:!0}):(t().setCurrentLevelIndex(n),e({isMapEnabled:!0,isScannerEnabled:!1}))},setCurrentLevelIndex:t=>{e({currentLevelIndex:t,currentLevelMessages:d.levels[t].messages,scannedMessages:[],remainingMessageCount:d.levels[t].messages.length})},isMapEnabled:!1,setIsMapEnabled:t=>{e({isMapEnabled:t})},isScannerEnabled:!1,setIsScannerEnabled:t=>{e({isScannerEnabled:t})},gameOver:!1,scannedMessages:[],addScannedMessage:n=>{const s=t().scannedMessages;s.push(n);const a=t().remainingMessageCount-1;e({scannedMessages:s,remainingMessageCount:a})}})));var h=n(105),p=n(106),x=n(104);const g=6371e3;function u(e){return e*Math.PI/180}function b(e,t,n){const s=function(e,t){const{lat:n,lng:s}=e,{lat:a,lng:i}=t,o=u(a-n),l=u(i-s),r=Math.sin(o/2)*Math.sin(o/2)+Math.cos(u(n))*Math.cos(u(a))*Math.sin(l/2)*Math.sin(l/2),c=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return g*c}(e,t);return s<=n}var v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABF1BMVEVHcExDIWtBIGlTYqFEImusL3ZAIGlFImxoJm9EIWtCIGlMQIRntudLImxrxPNQO39CIWtAH2n3On9GJm7zOX5CIWs/IGqGKnJBIWpKOX5EIWtpu+xCIGnoN31DHmhGLHNINHpCHmhBH2lkqt1fl81NSYzGM3nYNXtVJG1CH2lCHmjtOH5ZfLdin9RDIWuTpc1msuTfNnxIMHZBHmlbJ29qY5u34PipyedZebVOUZNwa6E+IWphJm5NImuDi7mcs9deToxYQYN9gLCgutykwuHONHp3daiu0u6LlsFsOoD6On9ty/n9On//O4C86v+/7f9syfdchr+mL3Z7KXFVaadRWpq/MnibLXRyKHC0MHdYdLCXLXRekMeQv4K2AAAASXRSTlMAF6b+Bv6P0/0LS/3+6f79vGH+3/4edf4x+8n+r/496/SeWf79/f7+8iOF/v39Evz+/v1r/vz+/f78/Jj8/vz9/P38/f3+/P380Eo8MAAAAexJREFUOMvtlNeSokAUhiXZKEkxMKComMeIjnly3K1ukDauyrz/cyw6d46we721p6rDxVfnnP77rxMK/dtBd4jOX2CpmywAmhGN/IGLAvbXtrpX6mQqmBNc3bJtG9Z2MSKoLnBlWFu6e93qseEAMM025WU9Rmrsu10Vrny5SGxpb4UiHSLCrJ7cpX3Ba+FdXp0qEmBvu6QveFXvJdni6Uq6NhOjA0D5q+CxiaU/mEpUbQYc3xCv1yzl1v/zsi5sKiAdvxUYqLNxf3nidzpsMitWqcrWNhHwNwRgIIRyUoYwuQoS3FNch6ewtgF6H1Nqyy+wuWsEmoIID2onkBECjNYpGqDQV5IeVxuoea2RuygkXdTUddks9/feS5QpX1ps8uSFPiPhwoRHfKvSv+tZzL1KtbFY2iSK38AG10aozD09PA5X1cFDdyatM0hs5XPnxkl8IsxzLyPHGT/fz0bO/PV5grFIGWdgrmAi1JbGznw+7w5/eLvzscEYLbTIecYywpnKcDx3PNZbo660QBhT56akG1wJodJUmv18fHt77b48qS0R4UU++k1EQ1143ZepCidJEjdtmQiX1vkLDorcAO7Qzogib5q8d5ifVCGW8xsSCbVCrQ+Tw3pTKYCAcUFfR9NhI5sljUY8R4T+x29PhFFgfz06oAAAAABJRU5ErkJggg==",A=n(2);const j={width:"100%",height:"100%"},k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,width:"60vw"},f=(e,t)=>({x:-e/2,y:-t/2});function y(){const{isLoaded:e}=Object(l.d)({id:"google-map-script",googleMapsApiKey:"AIzaSyDKqJC4dkD_xkdDVOpI38m3nJr3uuRXq7Q"}),[t,n]=Object(s.useState)(!1),a=m((e=>e.mapPos)),i=m((e=>e.setMapPosition)),o=m((e=>e.currentLevelIndex)),c=m((e=>e.isMapEnabled)),g=m((e=>e.setIsMapEnabled)),u=m((e=>e.setIsScannerEnabled)),[y,I]=Object(s.useState)(d.levels[0]),[M,O]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{I(d.levels[o])}),[o]),Object(s.useEffect)((()=>{const e=navigator.geolocation.watchPosition((async e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};console.log(t),t.lat===a.lat&&t.lng===a.lng||(i(t),n(!0),b(t,y.marker.pos,20)&&O(!0))}),null,{enableHighAccuracy:!0,maximumAge:5e3});return()=>{navigator.geolocation.clearWatch(e)}})),c&&t?e?Object(A.jsx)("div",{style:{height:"100vh",width:"100vw"},children:Object(A.jsxs)(l.a,{mapContainerStyle:j,center:a,zoom:15,options:{disableDefaultUI:!0,mapId:"c2191a630a735aa3"},children:[Object(A.jsx)(l.b,{position:y.marker.pos,icon:{url:v,labelOrigin:new google.maps.Point(10,-10)},label:{text:y.marker.address,color:"white"},onClick:()=>{console.log("clicked")}}),Object(A.jsx)(l.b,{position:a,icon:{url:r}}),M&&Object(A.jsx)(l.c,{mapPaneName:l.c.OVERLAY_MOUSE_TARGET,position:a,getPixelPositionOffset:f,children:Object(A.jsxs)(h.a,{sx:k,children:[Object(A.jsx)(p.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:y.modalTitle}),Object(A.jsx)(p.a,{id:"modal-modal-description",sx:{mt:2,mb:2},children:y.modalDescription}),Object(A.jsx)(x.a,{variant:"outlined",onClick:()=>{g(!1),u(!0),O(!1)},children:"Start Scanning"})]})})]})}):Object(A.jsx)("h1",{children:"Loading..."}):null}n(72),n(73),n(51);var I=()=>{const e=m((e=>e.setIsMapEnabled)),[t,n]=a.a.useState(!1);return Object(s.useEffect)((()=>{var e=function(e,t,n){this.toRotate=t,this.el=e,this.loopNum=0,this.period=n,this.txt="",this.tick(),this.isDeleting=!1};e.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var s=this,a=125;this.isDeleting&&(a/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,a=500):(a=this.period,this.isDeleting=!0,this.loopNum===this.toRotate.length-1&&(n(!0),setTimeout((()=>{}),6e3))),3===this.loopNum&&this.txt===t||setTimeout((function(){s.tick()}),a)},window.onload=function(){for(var t=document.getElementsByClassName("txt-rotate"),n=0;n<t.length;n++){var s=t[n].getAttribute("data-rotate"),a=t[n].getAttribute("data-period");s&&new e(t[n],JSON.parse(s),a)}var i=document.createElement("style");i.type="text/css",i.innerHTML=".txt-rotate > .wrap { border-right: 0.08em solid #666 }",document.body.appendChild(i)}}),[]),Object(A.jsxs)("div",{className:"welcome-container",children:[Object(A.jsx)("h1",{children:Object(A.jsx)("span",{class:"txt-rotate","data-period":"1000","data-rotate":'["Welcome to shadow casters", "This game will take you on a journey around San Luis Obispo", "I hope you enjoy!"]'})}),t&&Object(A.jsx)("button",{onClick:()=>e(!0),className:"button-39",children:"Begin Your Adventure"})]})},M=n(52),O=n(103),E=n(53),S=n(55);function w(e){const[t,n]=Object(s.useState)("No result"),a=m((e=>e.currentLevelMessages)),i=m((e=>e.addScannedMessage)),o=m((e=>e.updateGameState)),l=m((e=>e.isScannerEnabled)),r=m((e=>e.remainingMessageCount)),[c,d]=Object(s.useState)(!1),x=m((e=>e.scannedMessages));return l?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M.a,{onResult:(e,t)=>{console.log("scanned messages",x),e&&null!==e&&void 0!==e&&e.text&&(console.log("result: ",e.text),a.includes(e.text)&&!x.includes(e.text)&&(i(e.text),d(!0))),t&&console.info(t)},constraints:{facingMode:"environment"},onScan:()=>{console.log("scan")},onError:()=>{console.log("err")},containerStyle:{width:"70vh",alignItems:"center",justifyContent:"center",overflow:"hidden",display:"flex"},videoStyle:{"object-fit":"cover"}}),Object(A.jsxs)(h.a,{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",sx:{width:"100vw",height:"20vh",color:"white",bgcolor:"#121212","padding-top":"5px"},children:[Object(A.jsxs)(p.a,{display:"block",variant:"h6",align:"center",sx:{"padding-bottom":"15px"},children:["Reamining QR Codes: ",r]}),!c&&Object(A.jsx)(O.a,{size:"lg",variant:"plain"}),c&&Object(A.jsx)(E.a,{animationData:S,play:!0,loop:!1,onComplete:()=>{d(!1),o()},style:{width:70,height:70}})]})]}):null}function C(){return Object(A.jsx)(h.a,{sx:{bgcolor:"#121212",color:"white"},children:Object(A.jsx)(p.a,{variant:"h1",children:"Congragulations, You Win! Bask in the glory of success"})})}var J=function(){const e=m((e=>e.isMapEnabled)),t=(m((e=>e.setIsMapEnabled)),m((e=>e.isScannerEnabled))),n=m((e=>e.setIsScannerEnabled)),a=m((e=>e.gameOver));return Object(s.useEffect)((()=>{n(!0)}),[]),Object(A.jsx)("div",{className:"App",children:a?Object(A.jsx)(C,{}):Object(A.jsxs)(A.Fragment,{children:[!e&&!t&&Object(A.jsx)("div",{id:"welcome-message",children:Object(A.jsx)(I,{})}),Object(A.jsx)(w,{}),Object(A.jsx)(y,{})]})})};var D=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,109)).then((t=>{let{getCLS:n,getFID:s,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),s(e),a(e),i(e),o(e)}))};n(80);const L=document.getElementById("root");o.a.render(Object(A.jsx)(J,{}),L);D()}},[[81,1,2]]]);
//# sourceMappingURL=main.80ceaa1d.chunk.js.map