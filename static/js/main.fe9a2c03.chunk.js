(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"levels":[{"marker":{"address":"Architecture Graveyeard","pos":{"lat":35.31555195658608,"lng":-120.65380604662631}},"messages":{"arch-1":false,"arch-2":false,"arch-3":false}}]}')},52:function(e,t,s){e.exports={"map-container":"Map_map-container__2ZC0h","map-div":"Map_map-div__2IdK6","info-box":"Map_info-box__28Iw8",overlay:"Map_overlay__pXAeS",modal:"Map_modal__2EFkX","close-btn":"Map_close-btn__3PU26"}},61:function(e,t,s){},63:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(14),o=s.n(n),c=s(21),l=(s(52),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAA+VBMVEVHcEz50WVJZ65JZ65HZq6cmI9JZ696hJ1JaLBJZ65JZ6750mb71mT712NJZ65JZ65JZ6750mb50mb50mb602ZJZ65JZ65JZ65KaLBJZ65JZ65IZ6750mb50mb50mb50mZNbbRJZ6750mb50mb50mb50mbawHL50ma6q4D50mZVeb350mb50mabmYz50mb702V3g5tJZ6750mZRdLpJZq5KaK9Ver5ObrT61WfSPTNYfcFVeb3WSjbytVzvp1bkhEvea0NXb6j3y2Ppl1FcY59VZqajTF5FaLLHQD3gdEZ6WIKuSFOTUWzJe1v0vl+rcmxNZqsA0DpHcEwM4ksFAAAAU3RSTlMA/kPjKwIhBly57AkQFueo025J9NiBcPny2hQZMrCk0IoeIJ3oW/fI+r75uIpRl9B6////////////////////////////////////////////AOLyVYEAAAFTSURBVDjLzdRZc4IwEABgQSkooFwe9a5H1d67iEKLR72PXv//1zTgTPuCiTPtg/uQycM3m91kJ7HYGYWQkKSrU1wuDaDxbMingIRWYsJs4CDP/x/kC+HR7HbEbB4gLTFdop4kKdPJXJFxhxo4YZFOhirFDPxEjgZLl+CEGcmaESjwIu4MhgG0bUiKdPgcwL49OBW+nC0sar+Qej2CFCfQIfCGMbviRd0Be9gvSMzJlQAGdj+ViJ0tFNSnA7xXaExtV62uE8DX68cHQz6Wzehw6HbhAF00K+Vo2DYRufFnCJfvI0S0IqVaQ3Tn/v5rvViuFxt/5CI2o56x0SI5Jt7mbbdf7VaeNybwNmowxCqBH1PfC8OfzEghemSNjQqHOBtPttPpdj4ie/PuSN+K3jHRdZHjgrVVMY5PpGLo1V7Nsmq9pl6W6U8jyIqqKvJJf/PfvvZvlPFDcH9CqxsAAAAASUVORK5CYII="),r=s(41),i=s(20);const d=Object(r.create)(((e,t)=>({mapPos:{lat:35.30489293472487,lng:-120.66246462042335},setMapPosition:t=>{e({mapPos:t}),console.log("updating map pos")},currentLevel:0,currentLevelMessages:i.levels[0].messages,updateGameState:()=>{Object.values(t().currentLevelMessages).forEach((e=>{})),console.log("incrementing game level");t().currentLevel},setCurrentLevel:t=>{e({currentLevel:t,currentLevelMessages:i.levels[t].messages,messageCount:Object.keys(i.levels[t].messages).length})},updateMessageStatus:s=>{const a=t().currentLevelMessages;a[s]=!0;const n=t().messageCount-1;console.log("messages: ",a),console.log("count",n),e({currentLevelMessages:a,messageCount:n})},isMapEnabled:!1,setIsMapEnabled:t=>{e({isMapEnabled:t})},isScannerEnabled:!1,setIsScannerEnabled:t=>{e({isScannerEnabled:t})},messageCount:Object.keys(i.levels[0].messages).length})));var u=s(83),g=s(84),b=s(81);const m=6371e3;function p(e){return e*Math.PI/180}function h(e,t){const s=function(e,t){const{lat:s,lng:a}=e,{lat:n,lng:o}=t,c=p(n-s),l=p(o-a),r=Math.sin(c/2)*Math.sin(c/2)+Math.cos(p(s))*Math.cos(p(n))*Math.sin(l/2)*Math.sin(l/2),i=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return m*i}(e,t);return s<=20}var A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABF1BMVEVHcExDIWtBIGlTYqFEImusL3ZAIGlFImxoJm9EIWtCIGlMQIRntudLImxrxPNQO39CIWtAH2n3On9GJm7zOX5CIWs/IGqGKnJBIWpKOX5EIWtpu+xCIGnoN31DHmhGLHNINHpCHmhBH2lkqt1fl81NSYzGM3nYNXtVJG1CH2lCHmjtOH5ZfLdin9RDIWuTpc1msuTfNnxIMHZBHmlbJ29qY5u34PipyedZebVOUZNwa6E+IWphJm5NImuDi7mcs9deToxYQYN9gLCgutykwuHONHp3daiu0u6LlsFsOoD6On9ty/n9On//O4C86v+/7f9syfdchr+mL3Z7KXFVaadRWpq/MnibLXRyKHC0MHdYdLCXLXRekMeQv4K2AAAASXRSTlMAF6b+Bv6P0/0LS/3+6f79vGH+3/4edf4x+8n+r/496/SeWf79/f7+8iOF/v39Evz+/v1r/vz+/f78/Jj8/vz9/P38/f3+/P380Eo8MAAAAexJREFUOMvtlNeSokAUhiXZKEkxMKComMeIjnly3K1ukDauyrz/cyw6d46we721p6rDxVfnnP77rxMK/dtBd4jOX2CpmywAmhGN/IGLAvbXtrpX6mQqmBNc3bJtG9Z2MSKoLnBlWFu6e93qseEAMM025WU9Rmrsu10Vrny5SGxpb4UiHSLCrJ7cpX3Ba+FdXp0qEmBvu6QveFXvJdni6Uq6NhOjA0D5q+CxiaU/mEpUbQYc3xCv1yzl1v/zsi5sKiAdvxUYqLNxf3nidzpsMitWqcrWNhHwNwRgIIRyUoYwuQoS3FNch6ewtgF6H1Nqyy+wuWsEmoIID2onkBECjNYpGqDQV5IeVxuoea2RuygkXdTUddks9/feS5QpX1ps8uSFPiPhwoRHfKvSv+tZzL1KtbFY2iSK38AG10aozD09PA5X1cFDdyatM0hs5XPnxkl8IsxzLyPHGT/fz0bO/PV5grFIGWdgrmAi1JbGznw+7w5/eLvzscEYLbTIecYywpnKcDx3PNZbo660QBhT56akG1wJodJUmv18fHt77b48qS0R4UU++k1EQ1143ZepCidJEjdtmQiX1vkLDorcAO7Qzogib5q8d5ifVCGW8xsSCbVCrQ+Tw3pTKYCAcUFfR9NhI5sljUY8R4T+x29PhFFgfz06oAAAAABJRU5ErkJggg==",v=s(2);const x={width:"100%",height:"100%"},j={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,width:"60vw"},I=(e,t)=>({x:-e/2,y:-t/2});function M(){const{isLoaded:e}=Object(c.d)({id:"google-map-script",googleMapsApiKey:"AIzaSyDKqJC4dkD_xkdDVOpI38m3nJr3uuRXq7Q"}),t=[{address:"Architecture Graveyard",pos:{lat:35.1448,lng:-120.641391}},{address:"Architecture Graveyard",pos:{lat:35.31555195658608,lng:-120.65380604662631}},{address:"Architecture Graveyard",pos:{lat:35.31555195658608,lng:-120.65380604662631}},{address:"Architecture Graveyard",pos:{lat:35.31555195658608,lng:-120.65380604662631}}],[s,n]=Object(a.useState)(!1),o=d((e=>e.mapPos)),r=d((e=>e.setMapPosition)),m=d((e=>e.currentLevel)),p=d((e=>e.isMapEnabled)),M=d((e=>e.setIsMapEnabled)),f=d((e=>e.setIsScannerEnabled)),[O,E]=(i.levels[m].marker.pos,Object(a.useState)(!1));return Object(a.useEffect)((()=>{navigator.geolocation.watchPosition((async e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude};console.log(t),r(t),n(!0),h(t,o)&&E(!0)}),null,{enableHighAccuracy:!0})})),p&&s?e?Object(v.jsx)("div",{style:{height:"100vh",width:"100vw"},children:Object(v.jsxs)(c.a,{mapContainerStyle:x,center:o,zoom:15,options:{disableDefaultUI:!0,mapId:"c2191a630a735aa3"},children:[Object(v.jsx)(c.b,{position:t[m].pos,icon:{url:A,labelOrigin:new google.maps.Point(10,-10)},label:{text:t[m].address,color:"white"},onClick:()=>{console.log("clicked")}}),Object(v.jsx)(c.b,{position:o,icon:{url:l}}),O&&Object(v.jsx)(c.c,{mapPaneName:c.c.OVERLAY_MOUSE_TARGET,position:o,getPixelPositionOffset:I,children:Object(v.jsxs)(u.a,{sx:j,children:[Object(v.jsx)(g.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Welcome to Architecture Graveyard"}),Object(v.jsx)(g.a,{id:"modal-modal-description",sx:{mt:2,mb:2},children:"I've hidden three QR codes throughout the area. Search high, low, and every where in between to unlcok your next location"}),Object(v.jsx)(b.a,{variant:"outlined",onClick:()=>{M(!1),f(!0)},children:"Start Scanning"})]})})]})}):Object(v.jsx)("h1",{children:"Loading..."}):null}s(61);var f=s(43);function O(e){const[t,s]=Object(a.useState)("No result"),n=d((e=>e.currentLevelMessages)),o=d((e=>e.updateMessageStatus)),c=d((e=>e.updateGameState)),l=d((e=>e.isScannerEnabled)),r=d((e=>e.messageCount));return l?Object(v.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(v.jsx)(f.a,{onResult:(e,t)=>{console.log("messages",n),e&&(null!==e&&void 0!==e&&e.text&&void 0!==n[e.text]&&(n[e.text]||(o(e.text),c(),console.log("updating messages"))),console.log(n)),t&&console.info(t)},constraints:{facingMode:"environment"},onScan:()=>{console.log("scan")},onError:()=>{console.log("err")}}),Object(v.jsxs)(u.a,{sx:{width:"100vw",height:"20vh"},children:["Reamining object count: ",r]})]}):null}var E=function(){d((e=>e.isMapEnabled));const e=d((e=>e.setIsMapEnabled));return Object(a.useEffect)((()=>{e(!0)}),[]),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(O,{}),Object(v.jsx)(M,{})]})};var C=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,85)).then((t=>{let{getCLS:s,getFID:a,getFCP:n,getLCP:o,getTTFB:c}=t;s(e),a(e),n(e),o(e),c(e)}))};s(63);const S=document.getElementById("root");o.a.render(Object(v.jsx)(E,{}),S);C()}},[[64,1,2]]]);
//# sourceMappingURL=main.fe9a2c03.chunk.js.map